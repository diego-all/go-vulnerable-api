{
	"info": {
		"_postman_id": "YOUR-UNIQUE-ID",
		"name": "Go Vulnerable API - Instruments",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"description": "Colección de Postman para la API de instrumentos vulnerable. Incluye rutas CRUD estándar y rutas con vulnerabilidades de SQL Injection para pruebas de seguridad."
	},
	"item": [
		{
			"name": "Instrumentos CRUD Estándar",
			"description": "Rutas estándar de Create, Read, Update, Delete (CRUD) para instrumentos.",
			"item": [
				{
					"name": "POST /instruments - Crear Instrumento",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Guitarra Acústica\",\n    \"description\": \"Instrumento de 6 cuerdas para música folclórica.\",\n    \"price\": 499.99\n}"
						},
						"url": {
							"raw": "{{base_url}}/instruments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instruments"
							]
						},
						"description": "Crea un nuevo instrumento. El ID se generará automáticamente en la base de datos."
					},
					"response": []
				},
				{
					"name": "GET /instruments - Obtener Todos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/instruments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instruments"
							]
						},
						"description": "Obtiene la lista completa de instrumentos."
					},
					"response": []
				},
				{
					"name": "GET /instruments/{id} - Obtener por ID (VULNERABLE A SQLi)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/instruments/{{instrument_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instruments",
								"{{instrument_id}}"
							]
						},
						"description": "Obtiene un instrumento por su ID. **¡ATENCIÓN!** El modelo subyacente (`models.GetInstrumentByID`) es vulnerable a SQL Injection mediante la concatenación del parámetro de ruta. Prueba con un ID válido (ej., 1) o un payload de inyección como `1 OR 1=1 --` (aunque QueryRowContext podría limitar la explotación)."
					},
					"response": []
				},
				{
					"name": "PUT /instruments/{id} - Actualizar Instrumento",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Guitarra Eléctrica Fender\",\n    \"description\": \"Una guitarra icónica para rock and roll.\",\n    \"price\": 999.99\n}"
						},
						"url": {
							"raw": "{{base_url}}/instruments/{{instrument_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instruments",
								"{{instrument_id}}"
							]
						},
						"description": "Actualiza un instrumento existente. Reemplaza `{{instrument_id}}` con un ID existente."
					},
					"response": []
				},
				{
					"name": "DELETE /instruments/{id} - Eliminar Instrumento (Seguro)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/instruments/{{instrument_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instruments",
								"{{instrument_id}}"
							]
						},
						"description": "Elimina un instrumento por su ID. Utiliza una consulta SQL segura (parámetros) en el modelo. Reemplaza `{{instrument_id}}` con un ID existente."
					},
					"response": []
				}
			]
		},
		{
			"name": "Instrumentos Vulnerables (SQL Injection)",
			"description": "Rutas diseñadas intencionalmente con vulnerabilidades de SQL Injection para pruebas de seguridad.",
			"item": [
				{
					"name": "DELETE /instruments/vulnerable-sqli?id={id}",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/instruments/vulnerable-sqli?id={{sqli_delete_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instruments",
								"vulnerable-sqli"
							],
							"query": [
								{
									"key": "id",
									"value": "{{sqli_delete_id}}",
									"description": "Parámetro vulnerable a SQLi."
								}
							]
						},
						"description": "Eliminación vulnerable a SQLi. El ID se toma de un **query parameter**. Pruebas de inyección: `1` (normal), `1' OR '1'='1` (inyección que podría intentar eliminar múltiples si la DB lo permite)."
					},
					"response": []
				},
				{
					"name": "GET /instruments/vulnerable-sqligetinst?id={id} (Multiples)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/instruments/vulnerable-sqligetinst?id={{sqli_get_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instruments",
								"vulnerable-sqligetinst"
							],
							"query": [
								{
									"key": "id",
									"value": "{{sqli_get_id}}",
									"description": "Parámetro vulnerable a SQLi."
								}
							]
						},
						"description": "Obtiene instrumentos (puede devolver múltiples) y es vulnerable a SQLi. El ID se toma de un **query parameter**. Prueba de inyección clásica: `'1' OR '1'='1` o `1' OR 1=1 --` para intentar devolver todos los instrumentos."
					},
					"response": []
				},
				{
					"name": "GET /instruments/vulnerable-sqligetinsturlparam?id={id} (Single)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/instruments/vulnerable-sqligetinsturlparam?id={{sqli_get_id_single}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instruments",
								"vulnerable-sqligetinsturlparam"
							],
							"query": [
								{
									"key": "id",
									"value": "{{sqli_get_id_single}}",
									"description": "Parámetro vulnerable a SQLi."
								}
							]
						},
						"description": "Obtiene un solo instrumento y es vulnerable a SQLi. El ID se toma de un **query parameter**. Similar al anterior, pero el modelo usa `QueryRowContext`, lo que limita la inyección a una sola fila."
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string",
			"description": "URL base de la API"
		},
		{
			"key": "instrument_id",
			"value": "1",
			"type": "string",
			"description": "ID de un instrumento para usar en operaciones CRUD estándar"
		},
		{
			"key": "sqli_delete_id",
			"value": "1",
			"type": "string",
			"description": "ID o payload de inyección para la ruta DELETE vulnerable"
		},
		{
			"key": "sqli_get_id",
			"value": "1",
			"type": "string",
			"description": "ID o payload de inyección para la ruta GET múltiple vulnerable"
		},
		{
			"key": "sqli_get_id_single",
			"value": "1",
			"type": "string",
			"description": "ID o payload de inyección para la ruta GET simple vulnerable"
		}
	]
}